{% extends "layout.html" %}

{% block content %}
<title>Search Results</title>

<script type="text/javascript" src="{{ url_for('static', filename = 'search.js') }}"></script>
<div class="mt-3">
  <h2>Showing Results for "{{ query }}"</h2>
  <h3> (Results ordered by Overall Fantasy Ranking)</h3>
  <ul>
    {% if results %}
    <h4>{{ results|length }} results were found:</h4>
      {% for item in results %}
      <ol start="{{ item.player_id }}">
        <li>
          <div class="row">
            <div class="col-3">
              <img src="{{item.image}}" alt="{{item.name}}" width= "150">
            </div>
            <div class="col-9">
              <div class="row font1">
                <span>
                  <a href="{{ url_for('view', id=item.player_id) }}">{{ item.name }}</a>, {{item.position}} 
                </span>
              </div>
              <div class="row font1 italic">
                <span>&nbsp;&nbsp; &nbsp; &nbsp;  {{item.team}}</span>
              </div>
              <div class="row">
                <span>
                  <span class="font1 bold underline"> Total Fantasy pts</span>
                  <span>
                    : {{item.total_fpts}}
                  </span>
              </div>
              <div class="row">
                <span>
                  <span class="font1 bold underline"> Avg Fantasy pts</span>
                  <span>
                    : {{item.avg_fpts}}
                  </span>
                </span>
              </div>
            </div>
          </div>
        </li>
        </ol>
        <br>
      {% endfor %}
    {% else %}
      <p>No matches were found.</p>
    {% endif %}
  </ul>
</div>
{% endblock %}